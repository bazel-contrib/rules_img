[test]
name = manifest_basic
description = Test basic manifest and config creation

[command]
subcommand = manifest
args = --manifest manifest.json --config config.json
expect_exit = 0

[assert]
file_exists = manifest.json
file_exists = config.json
file_valid_json = manifest.json
file_valid_json = config.json
file_sha256 = config.json, "dc570f145a7f2862c9ef3c30b8d6ae2feaceb0d364e4b2e08e67ae18815427d9"
file_sha256 = manifest.json, "c5c3090c78a69c23565353b874b43eda3ad7c4cfcb855e839f3908ac5a11a9e6"
json_field_exists = manifest.json, schemaVersion
json_field_exists = manifest.json, mediaType
json_field_exists = manifest.json, config
json_field_exists = config.json, architecture
json_field_exists = config.json, os
file_contains = manifest.json, "sha256:dc570f145a7f2862c9ef3c30b8d6ae2feaceb0d364e4b2e08e67ae18815427d9"
